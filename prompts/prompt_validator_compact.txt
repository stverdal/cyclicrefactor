# Compact Validator Prompt (for low-VRAM / small context LLMs)

Review this refactor proposal that aims to break a cyclic dependency.

## Original Cycle (BEFORE changes)
ID: {id}
Graph: {graph}
Files: {files}

NOTE: The graph above is the ORIGINAL cycle BEFORE changes. Analyze the diffs to see if they break it.

## Proposed Changes
{diffs}

---

## Check:
1. Do the diffs break the cycle? (removes/inverts the problematic import)
2. Is syntax valid? (brackets balanced, imports correct)
3. Is functionality preserved? (no behavior changes)

## Decision:
- **APPROVED**: Diffs will break the cycle, code valid
- **NEEDS_REVISION**: Cycle not broken by diffs, syntax errors, or incomplete

## Output (JSON)

```json
{
  "decision": "APPROVED|NEEDS_REVISION",
  "summary": "<one sentence verdict about code quality>",
  "issues": [{"path": "file", "comment": "<issue>", "severity": "critical|major|minor"}],
  "suggestions": ["<specific fix if NEEDS_REVISION>"]
}
```

Output ONLY JSON.
